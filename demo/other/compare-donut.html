<html>
  <head>
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-core/5.8.38/browser.min.js"></script>
    <script src="https://unpkg.alipay.com/@ali/bizcharts@3.0.0-rc5.4/dist/bizcharts"> </script>
    <script type="text/javascript" src="https://unpkg.alipay.com/@antv/data-set@0.5.2/build/data-set.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
  </head>
  <body>
      <div id="mountNode" ></div>
      <script type="text/babel">
      const { Chart, Geom, Axis, Tooltip, Coord, Label, Legend, View, Guide, Shape, Facet } = window.BizCharts;
      const data = [
  {year:2007, area:'亚太地区', profit: 7860*0.189},
  {year:2007, area:'非洲及中东', profit: 7860*0.042},
  {year:2007, area:'拉丁美洲', profit: 7860*0.025},
  {year:2007, area:'中欧和东欧', profit: 7860*0.018},
  {year:2007, area:'西欧', profit: 7860*0.462},
  {year:2007, area:'北美', profit: 7860*0.265},
  {year:2011, area:'亚太地区', profit: 7620*0.539},
  {year:2011, area:'非洲及中东', profit: 7620*0.065},
  {year:2011, area:'拉丁美洲', profit: 7620*0.065},
  {year:2011, area:'中欧和东欧', profit: 7620*0.034},
  {year:2011, area:'西欧', profit: 7620*0.063},
  {year:2011, area:'北美', profit: 7620*0.234}
];
const { DataView } = DataSet;

const cols = {
  percent: {
    formatter: val => {
      return (val * 100).toFixed(2) + '%';
    }
  }
}
let id = 0;
ReactDOM.render((
	  <Chart height={window.innerHeight} data={data}  padding={80} forceFit>
    <Tooltip showTitle={false} />
    <Facet type='rect' fields={['year']} padding={50} colTitle={{
    offsetY: -30,
    style: {
      fontSize: 18,
      textAlign: 'center',
      fill: '#999'
    }}} >
      {(view, facet) => {
        const data = facet.data;
        const dv = new DataView();
        dv.source(data)
          .transform({
          type: 'percent',
          field: 'profit',
          dimension: 'area',
          as: 'percent'
        });
        return (
        <View data={dv} scale={cols} key={(id++)}>
          <Coord type="theta" innerRadius={0.35} />
          <Geom type="intervalStack" position="percent" color="area" style={{lineWidth: 1}}>
            <Label content="percent" offset={-2} />
          </Geom>
        </View>)}}
    </Facet>
  </Chart>
), document.getElementById("mountNode"));
    </script>
  </body>
</html>