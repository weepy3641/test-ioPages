<html>
  <head>
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-core/5.8.38/browser.min.js"></script>
    <script src="https://unpkg.alipay.com/@ali/bizcharts@3.0.0-rc5.4/dist/bizcharts"> </script>
    <script type="text/javascript" src="https://unpkg.alipay.com/@antv/data-set@0.5.2/build/data-set.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
  </head>
  <body>
      <div id="mountNode" ></div>
      <script type="text/babel">
      const { Chart, Geom, Axis, Tooltip, Coord, Label, Legend, View, Guide, Shape } = window.BizCharts;
      const {Text} = Guide;
const data = [
  {"question":"问题 1","percent":0.21,"odd":0},
  {"question":"问题 2","percent":0.47,"odd":1},
  {"question":"问题 3","percent":0.49,"odd":0},
  {"question":"问题 4","percent":0.52,"odd":1},
  {"question":"问题 5","percent":0.53,"odd":0},
  {"question":"问题 6","percent":0.54,"odd":1},
  {"question":"问题 7","percent":0.6,"odd":0},
  {"question":"问题 8","percent":0.67,"odd":1}
];
const cols = {
  'percent': { min: 0, max: 1 },
  'odd': { type: 'cat' }
}
ReactDOM.render((
	  <Chart height={window.innerHeight} data={data} scale={cols} forceFit>
    <Coord type="polar" innerRadius={0.1} transpose />
    <Tooltip title="question" />
    <Geom type='interval' position='question*percent' color={['odd', value => {
      return ['rgb(224,74,116)', 'rgb(211,0,57)'][value];
    }]} tooltip={['percent', val => {
      return {
        name: '占比',
        value: val * 100 + '%'
      };
    }]} style={{
    lineWidth: 1,
    stroke: '#fff'
      }}>
    <Label content="percent" offset={-5} />
    </Geom>
    <Guide >
    {data.map(obj => {
     return (
      	<Text position={[ obj.question, 0 ]} content={obj.question + ' '} style={{textAlign: 'right'}}/>
      )})}
    </Guide>
  </Chart>
), document.getElementById("mountNode"));

    </script>
  </body>
</html>